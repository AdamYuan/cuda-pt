<?xml version='1.0' encoding='utf-8'?>
<!-- A test file for mitsuba-like scene xml file parser -->
<!-- Author: Qianyue He / Original credit goes to Wenzel Jakob -->
<!-- Only Steady state rendering are supported -->
<!-- Only RGB or rgb spectrums are supported -->
<scene version="1.1">
	<renderer type="pt"/>
	<bool name="use_bvh" value="true"/>

	<sensor type="perspective">
		<float name="fov" value="39.3077"/>
        <integer name="sample_count" value="128"/>
        <integer name="max_bounce" value="32"/>
		<integer name="cache_level" value="4"/>
        <bool name="vflip" value="true"/>
        <bool name="hflip" value="true"/>
		
		<transform name="toWorld">
			<lookat target="-8.781343, 8.226387, -6.032082" origin="-9.415852, 8.876163, -6.450638" up="0.488632, 0.756808, 0.434144"/>
		</transform>

		<film type="film">
			<integer name="width" value="1024"/>
			<integer name="height" value="1024"/>
			<bool name="gamma_correction" value="false"/>
			<integer name="specular_constraint" value="0"/>
		</film>
	</sensor>

	<brdf type="lambertian" id="white">
		<rgb name="k_d" value="#BDBDBD"/>
		<rgb name="k_g" value="1.0"/>
		<rgb name="k_s" value="0.0"/>
	</brdf>

	<brdf type="dispersion" id="diamond">
		<rgb name="type" value="Diamond"/>
		<rgb name="k_s" value="0.99, 0.99, 0.99"/>
	</brdf>

	<brdf type="det-refraction" id="glass">
		<rgb name="k_d" value="2.4"/>
		<rgb name="k_s" value="0.99, 0.99, 0.99"/>
		<rgb name="k_g" value="1.0"/>
	</brdf>

	<brdf type="conductor-ggx" id="Ir">
		<string name="conductor" value="Ir"/>
		<float name="roughness_x" value="0.003"/>
		<float name="roughness_y" value="0.003"/>
		<rgb name="k_g" value="1"/>
	</brdf>

	<emitter type="envmap" id="envmap">
		<float name="scaler" value="1.0"/>		
		<float name="azimuth" value="0"/>			
		<float name="zenith" value="90"/>			
		<ref type="texture" id="envmap"/>
	</emitter>

	<emitter type="area" id="area">
		<rgb name="emission" value="1, 1, 1"/>
		<rgb name="scaler" value="20.0"/>			<!--1.5 for gamma correction, 5 for linear-->
		<string name="bind_type" value="triangle"/>
	</emitter>

	<shape type="obj">
		<string name="filename" value="../meshes/diamonds/floor.obj"/>
		<ref type="material" id="white"/>
	</shape>

	<shape type="obj">
		<string name="filename" value="../meshes/diamonds/diamonds.obj"/>
		<ref type="material" id="glass"/>
	</shape>

	<shape type="obj">
		<string name="filename" value="../meshes/diamonds/ring-ring.obj"/>
		<ref type="material" id="Ir"/>
	</shape>

	<shape type="obj">
		<string name="filename" value="../meshes/diamonds/area-light.obj"/>
		<ref type="material" id="white"/>
		<ref type="emitter" id="area"/>
	</shape>

	<texture id="envmap">
		<string name="diffuse" value="../textures/envmaps/day-sky-city.jpg"/>
	</texture>
</scene>